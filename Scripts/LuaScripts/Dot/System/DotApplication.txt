require("Dot/Core/Class")
require("Dot/Utils/TableUtil")
require("Dot/Event/EventDispatcher")

Dot = {}

Dot.Language = {
    SimpleChinese = 'zh',
    English = 'en'
}

Dot.RunMode = {
    Debug = 0,
    Release = 1
}

Dot.DebugLog = require("Dot/Log/DebugLog")
Dot.Json = require("rapidjson")

Dot.GEventDispatcher = EventDispatcher()

Dot.AppEnv = {}
Dot.AppEnv.__index = Dot.AppEnv
Dot.AppEnv.runMode = Dot.RunMode.Debug
Dot.AppEnv.language = Dot.Language.SimpleChinese

function Dot.AppEnv.IsDebug()
    if not Dot.AppEnv.runMode then
        return false
    else
        return Dot.AppEnv.runMode == Dot.RunMode.Debug
    end
end

function Dot.AppEnv.GetLanguage()
    return Dot.AppEnv.language
end

function Dot.AppEnv.SetLanguage(lang)
    if not lang and Dot.AppEnv.language ~= lang then
        Dot.AppEnv.language = lang

        if not Dot.GEventDispatcher then
            Dot.GEventDispatcher.Trigger(EventID.LanguageChanged)
        end
    end
end

