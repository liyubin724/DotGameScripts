require("Dot/Core/Class")
require("Dot/Utils/TableUtil")
require("Dot/Log/DebugLog")
require("Dot/Event/EventDispatcher")
require("Dot/System/AppEnv")

Dot = {}
Dot.__index = Dot

Dot.DebugLog = require("Dot/Log/DebugLog")
Dot.Json = require("rapidjson")
Dot.GEventDispatcher = EventDispatcher()
Dot.AppEnv = AppEnv(Dot.GEventDispatcher)

function Dot:OnModeChanged()
    if self.AppEnv:IsDebug() then
        self.DebugLog:SetEnable(true,true,true)
    else
        self.DebugLog:SetEnable(true,false,false)
    end
end

Dot.GEventDispatcher:Register(EventID.ModeChanged,EventData(Dot,Dot.OnModeChanged,false))
